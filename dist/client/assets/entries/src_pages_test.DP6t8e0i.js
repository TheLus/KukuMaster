import{r as i,c as D,j as e,B as S,u as O,a as F,b as q,G as n,L as J,T as u,C as W,A as G,d as L,e as z,f as K,i as V,o as Y}from"../chunks/chunk-BNopT26k.js";/* empty css                      */import"../chunks/chunk-jmb4uHi1.js";let x={};const U=()=>{const h=i.useCallback((o,r)=>{x[`${o}-${r}`]=!0,localStorage.setItem("completedTests",JSON.stringify(x))},[]),c=i.useCallback((o,r)=>{x[`${o}-${r}`]=!1,localStorage.setItem("completedTests",JSON.stringify(x))},[]),a=i.useCallback((o,r)=>x[`${o}-${r}`],[]);return i.useEffect(()=>{const o=localStorage.getItem("completedTests");o&&(x=JSON.parse(o))},[]),{completedTests:x,completeTest:h,getIsComplete:a,inCorrectTest:c}},Q=D(e.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2"})),H=D(e.jsx("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}));let $=0;const s=({children:h,onClick:c,table:a,time:o,passing:r,level:l})=>{const{getIsComplete:d,inCorrectTest:g}=U(),t=i.useCallback(()=>{c({table:a,time:o,passing:r,level:l})},[c,a,o,r,l]),m=i.useCallback(()=>{$=Date.now()},[d,l,a]),p=i.useCallback(j=>{Date.now()-$>3e3&&(g(l,a),j.preventDefault())},[d,l,a]);return e.jsx(S,{onClick:t,variant:d(l,a)?"contained":"outlined",sx:{width:112},startIcon:d(l,a)?e.jsx(H,{}):void 0,onTouchStart:m,onTouchEnd:p,children:h})},X=({questionNo:h,reset:c})=>{const a=i.useRef(-1),[o,r]=i.useState(3e4),[l,d]=i.useState(0),[g,t]=i.useState(0),m=i.useCallback(()=>{c({table:a.current})},[c]),p=i.useCallback(()=>{},[]),{isTimeAttackFinished:j,isTimeAttackMode:T,setIsTimeAttackMode:v,isTimeAttacking:f,count:y,progressRef:P,finishTimeAttack:b,resetTimeAttack:k}=O({questionNo:h,reset:m,time:o,onFinish:p}),{answeredList:C,resetAnsweredList:I}=F(),{completeTest:A}=U(),R=i.useCallback(()=>{I(),k()},[k,I]),M=i.useMemo(()=>{const _=C.filter(({isCorrect:w})=>w).length,E=C.filter(({isCorrect:w})=>!w).length;return Math.max(_-E,0)},[C]),B=i.useCallback(({table:_,time:E,passing:w,level:N})=>{v(!0),a.current=_,m(),r(E),d(w),t(N)},[]);return i.useEffect(()=>{T&&M>=l&&f.current&&(b(),A(g,a.current))},[T,b,M,l,g,A]),{beginTest:B,isTestMode:T,count:y,isTesting:f,progressRef:P,passingCount:M,passing:l,isTestFinished:j,resetTest:R,setIsTestMode:v}};function Z(){const{a1:h,a2:c,a3:a,q1:o,q2:r,questionNo:l,answer:d,reset:g}=q(),{beginTest:t,isTestMode:m,count:p,isTesting:j,progressRef:T,passingCount:v,passing:f,isTestFinished:y,resetTest:P,setIsTestMode:b}=X({questionNo:l,reset:g}),k=i.useMemo(()=>v>=f,[v,f]),C=i.useCallback(()=>{b(!1)},[b]);return e.jsxs(n,{container:!0,direction:"column",sx:ee,children:[e.jsx(n,{container:!0,position:"absolute",right:10,top:10,width:90,zIndex:1,gap:.5,children:e.jsx(S,{variant:"contained",sx:{width:90,height:28},component:J,href:"/KukuMaster/dist/client/",children:"試練"})}),e.jsx(n,{container:!0,className:"TopPage",justifyContent:"center",children:e.jsxs(n,{container:!0,className:"Scroller",justifyContent:"center",style:{transform:m?"translateY(-100dvh)":"none"},children:[e.jsxs(n,{container:!0,direction:"column",alignItems:"center",width:"100%",gap:2,pt:8,sx:{overflowY:"scroll",height:"100dvh"},wrap:"nowrap",pb:4,children:[e.jsx(u,{variant:"h5",children:"九九みならいの試練"}),e.jsxs(n,{container:!0,gap:1,children:[e.jsx(s,{onClick:t,level:1,table:4,time:3e4,passing:5,children:"4 のだん"}),e.jsx(s,{onClick:t,level:1,table:5,time:3e4,passing:5,children:"5 のだん"}),e.jsx(s,{onClick:t,level:1,table:6,time:3e4,passing:5,children:"6 のだん"})]}),e.jsxs(n,{container:!0,gap:1,children:[e.jsx(s,{onClick:t,level:1,table:7,time:3e4,passing:5,children:"7 のだん"}),e.jsx(s,{onClick:t,level:1,table:8,time:3e4,passing:5,children:"8 のだん"}),e.jsx(s,{onClick:t,level:1,table:9,time:3e4,passing:5,children:"9 のだん"})]}),e.jsx(u,{variant:"h5",mt:2,children:"九九せんせいの試練"}),e.jsxs(n,{container:!0,gap:1,children:[e.jsx(s,{onClick:t,level:2,table:4,time:25e3,passing:6,children:"4 のだん"}),e.jsx(s,{onClick:t,level:2,table:5,time:25e3,passing:6,children:"5 のだん"}),e.jsx(s,{onClick:t,level:2,table:6,time:25e3,passing:6,children:"6 のだん"})]}),e.jsxs(n,{container:!0,gap:1,children:[e.jsx(s,{onClick:t,level:2,table:7,time:25e3,passing:6,children:"7 のだん"}),e.jsx(s,{onClick:t,level:2,table:8,time:25e3,passing:6,children:"8 のだん"}),e.jsx(s,{onClick:t,level:2,table:9,time:25e3,passing:6,children:"9 のだん"})]}),e.jsx(u,{variant:"h5",mt:2,children:"九九たつじんの試練"}),e.jsxs(n,{container:!0,gap:1,children:[e.jsx(s,{onClick:t,level:3,table:4,time:2e4,passing:8,children:"4 のだん"}),e.jsx(s,{onClick:t,level:3,table:5,time:2e4,passing:8,children:"5 のだん"}),e.jsx(s,{onClick:t,level:3,table:6,time:2e4,passing:8,children:"6 のだん"})]}),e.jsxs(n,{container:!0,gap:1,children:[e.jsx(s,{onClick:t,level:3,table:7,time:2e4,passing:8,children:"7 のだん"}),e.jsx(s,{onClick:t,level:3,table:8,time:2e4,passing:8,children:"8 のだん"}),e.jsx(s,{onClick:t,level:3,table:9,time:2e4,passing:8,children:"9 のだん"})]}),e.jsx(u,{variant:"h5",mt:2,children:"九九マスターの試練"}),e.jsxs(n,{container:!0,gap:1,children:[e.jsx(s,{onClick:t,level:4,table:4,time:15e3,passing:10,children:"4 のだん"}),e.jsx(s,{onClick:t,level:4,table:5,time:15e3,passing:10,children:"5 のだん"}),e.jsx(s,{onClick:t,level:4,table:6,time:15e3,passing:10,children:"6 のだん"})]}),e.jsxs(n,{container:!0,gap:1,children:[e.jsx(s,{onClick:t,level:4,table:7,time:15e3,passing:10,children:"7 のだん"}),e.jsx(s,{onClick:t,level:4,table:8,time:15e3,passing:10,children:"8 のだん"}),e.jsx(s,{onClick:t,level:4,table:9,time:15e3,passing:10,children:"9 のだん"})]})]}),e.jsxs(n,{container:!0,justifyContent:"center",position:"absolute",top:"100dvh",width:"100%",height:"100dvh",children:[e.jsx(n,{container:!0,position:"absolute",left:10,top:10,width:90,zIndex:1,gap:.5,children:e.jsx(S,{variant:"outlined",sx:{width:90,height:28},onClick:C,children:"やめる"})}),e.jsx(W,{count:p,sx:{position:"absolute",top:"40dvh",fontSize:200,transition:p>0?"opacity 0.2s ease":"opacity 0s",opacity:p>0?1:0}}),e.jsx(n,{container:!0,direction:"column",maxWidth:700,alignItems:"center",position:"absolute",bottom:300,display:j.current?"flex":"none",children:e.jsx(G,{})}),e.jsxs(n,{container:!0,direction:"column",maxWidth:700,alignItems:"center",gap:3,position:"absolute",bottom:60,display:j.current?"flex":"none",children:[e.jsxs(n,{container:!0,alignItems:"center",gap:2,children:[e.jsx(u,{variant:"h1",children:o}),e.jsx(u,{variant:"h2",children:"x"}),e.jsx(u,{variant:"h1",children:r})]}),e.jsxs(n,{container:!0,gap:3,children:[e.jsx(L,{answer:h,onClick:d},`${l}_${h}_1`),e.jsx(L,{answer:c,onClick:d},`${l}_${c}_2`),e.jsx(L,{answer:a,onClick:d},`${l}_${a}_3`)]})]}),e.jsxs(z,{display:y?"none":"block",position:"absolute",bottom:0,width:"100dvw",children:[e.jsx(n,{position:"absolute",width:"100dvw",height:"10px",bottom:30,container:!0,justifyContent:"space-around",children:new Array(f).fill(0).map((I,A)=>A<v?e.jsx(Q,{sx:{color:"#56f"}}):e.jsx(K,{sx:{color:"#cdf"}}))}),e.jsx(z,{position:"absolute",width:"100dvw",height:"10px",bottom:0,sx:{backgroundColor:"#cdf"},children:e.jsx(z,{ref:T,position:"absolute",height:"10px",top:0,left:0,sx:{backgroundColor:"#56f"}})})]}),e.jsx(z,{display:y?"block":"none",children:e.jsxs(n,{container:!0,direction:"column",alignItems:"center",gap:2,mt:30,children:[e.jsx(u,{variant:k?"h3":"h4",fontWeight:"bold",children:k?"試練クリア！":"試練失敗...orz"}),e.jsxs(n,{container:!0,gap:2,children:[e.jsx(S,{onClick:C,variant:"outlined",children:"戻る"}),e.jsx(S,{onClick:P,variant:"outlined",children:"もう一回！"})]})]})})]})]})})]})}const ee=()=>({".TopPage":{position:"relative",height:"100dvh",overflow:"hidden"},".Scroller":{position:"relative",width:"100dvw",transition:"transform 0.4s ease"}}),te=Object.freeze(Object.defineProperty({__proto__:null,Page:Z},Symbol.toStringTag,{value:"Module"})),ae={isClientRuntimeLoaded:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!0}},onBeforeRenderEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},dataEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},onRenderClient:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/onRenderClient",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:Y}},Page:{type:"standard",definedAtData:{filePathToShowToUser:"/src/pages/test/+Page.tsx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:te}},hydrationCanBeAborted:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/config",fileExportPathToShowToUser:["default","hydrationCanBeAborted"]},valueSerialized:{type:"js-serialized",value:!0}},title:{type:"standard",definedAtData:{filePathToShowToUser:"/src/pages/+config.ts",fileExportPathToShowToUser:["default","title"]},valueSerialized:{type:"js-serialized",value:"九九マスター！"}},Loading:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/Loading",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:V}}};export{ae as configValuesSerialized};
